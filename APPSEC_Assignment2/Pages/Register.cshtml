@page
@model APPSEC_Assignment2.Pages.RegisterModel

<div class="container mt-5">

    <div class="row justify-content-center align-items-center">

        <div class="col-sm-12 col-md-12 col-lg-6">
            <h1 class="mb-3">Register </h1>

            <form method="post" enctype="multipart/form-data" asp-antiforgery="true">
                @Html.AntiForgeryToken()

                <div class="row">
                    <div class="col-md-6 mb-3">
                        <label class="form-label" asp-for="RModel.FirstName">First Name</label>
                        <input type="text" asp-for="RModel.FirstName" class="form-control" />
                        <span asp-validation-for="RModel.FirstName" class="text-danger"></span>
                    </div>

                    <div class="col-md-6 mb-3">
                        <label class="form-label" asp-for="RModel.LastName">Last Name</label>
                        <input type="text" asp-for="RModel.LastName" class="form-control" />
                        <span asp-validation-for="RModel.LastName" class="text-danger"></span>
                    </div>
                </div>

                <div class="mb-3">
                    <label class="form-label" asp-for="RModel.Gender">Gender</label>
                    <select asp-for="RModel.Gender" class="form-control">
                        <option value="Male">Male</option>
                        <option value="Female">Female</option>
                    </select>
                    <span asp-validation-for="RModel.Gender" class="text-danger"></span>
                </div>

                <div class="mb-3">
                    <label class="form-label" asp-for="RModel.NRIC">NRIC</label>
                    <input type="text" asp-for="RModel.NRIC" class="form-control" />
                    <span asp-validation-for="RModel.NRIC" class="text-danger"></span>
                </div>

                <div class="mb-3">
                    <label class="form-label" asp-for="RModel.Email">Email Address</label>
                    <input type="email" asp-for="RModel.Email" class="form-control" />
                    <span asp-validation-for="RModel.Email" class="text-danger"></span>
                </div>

                <div class="row">
                    <div class="col-md-6 mb-3">
                        <label class="form-label" asp-for="Password">Password</label>
                        <input id="password" type="password" asp-for="Password" class="form-control" />
                        <div class="progress mt-1">
                            <div id="strength" class="progress-bar bg-danger progress-bar-striped progress-bar-animated" role="progressbar" style="width: 0%" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100"></div>
                        </div>
                        <span asp-validaton-for="RModel.Password" class="text-danger"></span>
                    </div>

                    <div class="col-md-6 mb-3">
                        <label class="form-label" asp-for="ConfirmPassword">Confirm Password</label>
                        <input type="password" asp-for="ConfirmPassword" class="form-control" />
                        <span asp-validation-for="ConfirmPassword" class="text-danger"></span>
                    </div>
                </div>

                <div class="mb-3">
                    <label class="form-label" asp-for="RModel.DOB">Date of Birth</label>
                    <input type="date" asp-for="RModel.DOB" class="form-control" />
                    <span asp-validation-for="RModel.DOB" class="text-danger"></span>
                </div>

                <div class="mb-3">
                    <label class="form-label" asp-for="Resume">Resume (.docx or .pdf file)</label>
                    <input type="file" asp-for="Resume"  class="form-control" />
                    <span asp-validation-for="Resume" class="text-danger"></span>
                </div>

                <div class="mb-3">
                    <label class="form-label" asp-for="RModel.WAI">Who Am I</label>
                    <textarea asp-for="RModel.WAI" class="form-control"></textarea>
                    <span asp-validation-for="RModel.WAI" class="text-danger"></span>
                </div>

                <div asp-validation-summary="All" class="text-danger"></div>


                <div class="mb-3">
                    <button type="submit" class="btn btn-primary">Register</button>
                </div>
            </form>
        </div>
    </div>
</div>


    <script>
    var password = document.getElementById("password")
    password.addEventListener('keyup', function () {
        validatePassword(password.value)
    })

    password.addEventListener('change', function () {
        validatePassword(password.value)
    })

    function validatePassword(password) {
        var strengthBar = document.getElementById("strength")
        var strengthBarProgress = document.getElementById("strength").style
        var strength = 0;
        if (password.match(/[a-z]/)) {
            strength += 1
        }
        if (password.match(/[A-Z]/)) {
            strength += 1
        }
        if (password.match(/\d/)) {
            strength += 1
        }
        if (password.match(/[^\da-zA-Z]/)) {
            strength += 1
        }
        if (password.length >= 12) {
            strength += 1
        }

        switch (strength) {
            case 0:
                strengthBarProgress.width = "0%";
                strengthBar.className = 'progress-bar bg-danger progress-bar-striped progress-bar-animated';
                break
            case 1:
                strengthBarProgress.width = "20%";
                strengthBar.className = 'progress-bar bg-danger progress-bar-striped progress-bar-animated';
                break
            case 2:
                strengthBarProgress.width = "40%";
                strengthBar.className = 'progress-bar bg-warning progress-bar-striped progress-bar-animated';
                break
            case 3:
                strengthBarProgress.width = "60%";
                strengthBar.className = 'progress-bar bg-warning progress-bar-striped progress-bar-animated';
                break
            case 4:
                strengthBarProgress.width = "80%";
                strengthBar.className = 'progress-bar bg-info progress-bar-striped progress-bar-animated';
                break
            case 5:
                strengthBarProgress.width = "100%";
                strengthBar.className = 'progress-bar bg-success progress-bar-striped';
                break
        }
    }
       
</script>
             